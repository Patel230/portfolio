<template>
  <svg
    :width="size"
    :height="size"
    :viewBox="viewBox"
    :fill="fill"
    :stroke="stroke"
    :stroke-width="strokeWidth"
    aria-hidden="true"
  >
    <component :is="iconComponent" />
  </svg>
</template>

<script setup>
import { computed, h } from 'vue'

const props = defineProps({
  name: {
    type: String,
    required: true
  },
  size: {
    type: [Number, String],
    default: 24
  },
  fill: {
    type: String,
    default: 'none'
  },
  stroke: {
    type: String,
    default: 'currentColor'
  },
  strokeWidth: {
    type: [Number, String],
    default: 2
  }
})

const icons = {
  // Existing icons
  external: {
    viewBox: '0 0 24 24',
    paths: ['M7 17L17 7M17 7H7M17 7V17']
  },
  folder: {
    viewBox: '0 0 24 24',
    paths: ['M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z']
  },
  layers: {
    viewBox: '0 0 24 24',
    paths: ['M12 2L2 7l10 5 10-5-10-5z', 'M2 17l10 5 10-5', 'M2 12l10 5 10-5']
  },
  mail: {
    viewBox: '0 0 24 24',
    paths: [
      'M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z',
      'M22 6l-10 7L2 6'
    ]
  },
  github: {
    viewBox: '0 0 24 24',
    fill: 'currentColor',
    paths: [
      'M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z'
    ]
  },
  linkedin: {
    viewBox: '0 0 24 24',
    fill: 'currentColor',
    paths: [
      'M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z'
    ]
  },
  location: {
    viewBox: '0 0 24 24',
    paths: ['M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z', 'M12 10a3 3 0 110-6 3 3 0 010 6z']
  },
  x: {
    viewBox: '0 0 24 24',
    fill: 'currentColor',
    paths: [
      'M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z'
    ]
  },
  youtube: {
    viewBox: '0 0 24 24',
    fill: 'currentColor',
    paths: [
      'M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z'
    ]
  },
  arrowLeft: {
    viewBox: '0 0 24 24',
    paths: ['M19 12H5M12 19l-7-7 7-7']
  },
  // Skill category icons
  brain: {
    viewBox: '0 0 24 24',
    paths: [
      'M9.5 2A2.5 2.5 0 0112 4.5v15a2.5 2.5 0 01-4.96.44 2.5 2.5 0 01-2.96-3.08 3 3 0 01-.34-5.58 2.5 2.5 0 012.96-3.08 2.5 2.5 0 013.08-2.96A2.5 2.5 0 019.5 2z',
      'M14.5 2A2.5 2.5 0 0012 4.5v15a2.5 2.5 0 004.96.44 2.5 2.5 0 002.96-3.08 3 3 0 00.34-5.58 2.5 2.5 0 00-2.96-3.08 2.5 2.5 0 00-3.08-2.96A2.5 2.5 0 0014.5 2z'
    ]
  },
  bot: {
    viewBox: '0 0 24 24',
    paths: [
      'M12 2a1 1 0 011 1v2h4a3 3 0 013 3v10a3 3 0 01-3 3H7a3 3 0 01-3-3V8a3 3 0 013-3h4V3a1 1 0 011-1z',
      'M8 10h2v2H8z',
      'M14 10h2v2h-2z',
      'M9 15h6'
    ]
  },
  layout: {
    viewBox: '0 0 24 24',
    paths: ['M3 3h18v18H3zM3 9h18M9 21V9']
  },
  server: {
    viewBox: '0 0 24 24',
    paths: [
      'M5 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z',
      'M5 4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z',
      'M5 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z',
      'M19 10h-8M19 4h-8M19 16h-8'
    ]
  },
  database: {
    viewBox: '0 0 24 24',
    paths: [
      'M12 2C6.48 2 2 4.24 2 7s4.48 5 10 5 10-2.24 10-5-4.48-5-10-5z',
      'M2 7v5c0 2.76 4.48 5 10 5s10-2.24 10-5V7',
      'M2 12v5c0 2.76 4.48 5 10 5s10-2.24 10-5v-5'
    ]
  },
  cloud: {
    viewBox: '0 0 24 24',
    paths: [
      'M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19M17.5 19c2.485 0 4.5-2.015 4.5-4.5S19.985 10 17.5 10c-.186 0-.367.012-.544.034C16.473 6.607 13.488 4 10 4 6.134 4 3 7.134 3 11c0 .37.029.733.085 1.087C1.306 12.557 0 14.192 0 16c0 2.209 1.791 4 4 4h13.5'
    ]
  },
  tool: {
    viewBox: '0 0 24 24',
    paths: [
      'M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z'
    ]
  },
  shield: {
    viewBox: '0 0 24 24',
    paths: ['M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z']
  },
  smartphone: {
    viewBox: '0 0 24 24',
    paths: ['M17 2H7a2 2 0 00-2 2v16a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2z', 'M12 18h.01']
  },
  // Project icons
  tractor: {
    viewBox: '0 0 24 24',
    paths: [
      'M3 4h13l3 6.5',
      'M8 14a3 3 0 100 6 3 3 0 000-6z',
      'M18 14a3 3 0 100 6 3 3 0 000-6z',
      'M8 14h10',
      'M5 4v10',
      'M3 14h2'
    ]
  },
  zap: {
    viewBox: '0 0 24 24',
    paths: ['M13 2L3 14h9l-1 8 10-12h-9l1-8z']
  },
  'git-branch': {
    viewBox: '0 0 24 24',
    paths: [
      'M6 3v12',
      'M18 9a3 3 0 100-6 3 3 0 000 6z',
      'M6 21a3 3 0 100-6 3 3 0 000 6z',
      'M18 9a9 9 0 01-9 9'
    ]
  },
  'check-square': {
    viewBox: '0 0 24 24',
    paths: ['M9 11l3 3L22 4', 'M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11']
  },
  'book-open': {
    viewBox: '0 0 24 24',
    paths: ['M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z', 'M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z']
  },
  award: {
    viewBox: '0 0 24 24',
    paths: ['M12 8a5 5 0 110 10 5 5 0 010-10z', 'M12 2v6', 'M6 4l2 3', 'M18 4l-2 3']
  },
  // POC icons
  compass: {
    viewBox: '0 0 24 24',
    paths: [
      'M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z',
      'M16.24 7.76l-2.12 6.36-6.36 2.12 2.12-6.36 6.36-2.12z'
    ]
  },
  'dollar-sign': {
    viewBox: '0 0 24 24',
    paths: ['M12 1v22', 'M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6']
  },
  keyboard: {
    viewBox: '0 0 24 24',
    paths: [
      'M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z',
      'M6 8h2M10 8h2M14 8h2M18 8h2M6 12h2M10 12h2M14 12h2M18 12h2M8 16h8'
    ]
  },
  'pen-tool': {
    viewBox: '0 0 24 24',
    paths: [
      'M12 19l7-7 3 3-7 7-3-3z',
      'M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z',
      'M2 2l7.586 7.586',
      'M8 22l4-4'
    ]
  },
  sprout: {
    viewBox: '0 0 24 24',
    paths: [
      'M7 20h10',
      'M10 20c5.5-2.5.8-6.4 3-10',
      'M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-.9-.4-2.5-1.5-2.3-3.7z',
      'M14.1 10c.9.8 2.1 2.2 2.3 3.7-1-.5-2.8-1.5-2.3-3.7z',
      'M17 20c-1.5-3.5-5.5-4.5-7-9'
    ]
  },
  network: {
    viewBox: '0 0 24 24',
    paths: [
      'M5 16a3 3 0 110-6 3 3 0 010 6z',
      'M19 8a3 3 0 110-6 3 3 0 010 6z',
      'M19 22a3 3 0 110-6 3 3 0 010 6z',
      'M8 12h8',
      'M16 10v4'
    ]
  },
  'file-text': {
    viewBox: '0 0 24 24',
    paths: [
      'M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z',
      'M14 2v6h6',
      'M16 13H8',
      'M16 17H8',
      'M10 9H8'
    ]
  },
  video: {
    viewBox: '0 0 24 24',
    paths: ['M23 7l-7 5 7 5V7z', 'M1 5h16v14H1V5z']
  },
  bitcoin: {
    viewBox: '0 0 24 24',
    paths: [
      'M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L9.4 18.293m2.367 1.796l-.959.167m-2.655-9.177c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893l-1.176-.207m1.176.207l-.959.167M6 12v.01M6 16v.01M6 8v.01'
    ]
  },
  activity: {
    viewBox: '0 0 24 24',
    paths: ['M22 12h-4l-3 9L9 3l-3 9H2']
  },
  users: {
    viewBox: '0 0 24 24',
    paths: [
      'M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2',
      'M9 7a4 4 0 100-8 4 4 0 000 8z',
      'M23 21v-2a4 4 0 00-3-3.87',
      'M16 3.13a4 4 0 010 7.75'
    ]
  },
  music: {
    viewBox: '0 0 24 24',
    paths: ['M9 18V5l12-2v13', 'M6 21a3 3 0 100-6 3 3 0 000 6z', 'M18 19a3 3 0 100-6 3 3 0 000 6z']
  },
  book: {
    viewBox: '0 0 24 24',
    paths: [
      'M4 19.5A2.5 2.5 0 016.5 17H20',
      'M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z'
    ]
  },
  lock: {
    viewBox: '0 0 24 24',
    paths: [
      'M19 11H5a2 2 0 00-2 2v6a2 2 0 002 2h14a2 2 0 002-2v-6a2 2 0 00-2-2h-2V7a4 4 0 00-8 0v4h2V7a2 2 0 014 0v4z'
    ]
  },
  'hard-drive': {
    viewBox: '0 0 24 24',
    paths: [
      'M22 12H2',
      'M20 12v8a2 2 0 01-2 2H6a2 2 0 01-2-2v-8',
      'M4 8l2-4h12l2 4',
      'M9 16h.01',
      'M14 16h.01'
    ]
  },
  'file-code': {
    viewBox: '0 0 24 24',
    paths: [
      'M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z',
      'M14 2v6h6',
      'M10 13l-2 2 2 2',
      'M14 13l2 2-2 2'
    ]
  },
  briefcase: {
    viewBox: '0 0 24 24',
    paths: [
      'M20 7H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V9a2 2 0 00-2-2z',
      'M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2'
    ]
  },
  camera: {
    viewBox: '0 0 24 24',
    paths: [
      'M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z',
      'M12 13a4 4 0 100-8 4 4 0 000 8z'
    ]
  },
  'list-checks': {
    viewBox: '0 0 24 24',
    paths: ['M10 6H3', 'M10 12H3', 'M10 18H3', 'M14 8l2 2 4-4']
  },
  'shield-check': {
    viewBox: '0 0 24 24',
    paths: ['M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z', 'M9 12l2 2 4-4']
  },
  'flask-conical': {
    viewBox: '0 0 24 24',
    paths: ['M10 2v8L4 20h16l-6-10V2', 'M9.5 14h5', 'M7.5 18h9']
  },
  languages: {
    viewBox: '0 0 24 24',
    paths: ['M5 8l3 3-3 3', 'M12 15h6', 'M2 5h12a2 2 0 012 2v10a2 2 0 01-2 2H2', 'M12 2v20']
  },
  'graduation-cap': {
    viewBox: '0 0 24 24',
    paths: ['M22 10v6M2 10l10-5 10 5-10 5z', 'M6 12v5c3 3 9 3 12 0v-5']
  },
  sparkles: {
    viewBox: '0 0 24 24',
    paths: [
      'M12 2l2.4 7.2h7.6l-6 4.8 2.4 7.2-6-4.8-6 4.8 2.4-7.2-6-4.8h7.6z',
      'M5 3v4',
      'M19 17v4',
      'M3 21h4',
      'M17 7h4'
    ]
  },
  calculator: {
    viewBox: '0 0 24 24',
    paths: [
      'M4 2h16a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z',
      'M6 6h4',
      'M6 10h4',
      'M6 14h4',
      'M6 18h4',
      'M14 6h4',
      'M14 10h4',
      'M14 14h4',
      'M14 18h4'
    ]
  },
  'refresh-cw': {
    viewBox: '0 0 24 24',
    paths: [
      'M23 4v6h-6',
      'M1 20v-6h6',
      'M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15'
    ]
  },
  code: {
    viewBox: '0 0 24 24',
    paths: ['M16 18l6-6-6-6', 'M8 6l-6 6 6 6']
  },
  cpu: {
    viewBox: '0 0 24 24',
    paths: [
      'M4 4h16v16H4z',
      'M9 9h6v6H9z',
      'M9 1v3',
      'M15 1v3',
      'M9 20v3',
      'M15 20v3',
      'M20 9h3',
      'M20 15h3',
      'M1 9h3',
      'M1 15h3'
    ]
  },
  kilocode: {
    viewBox: '0 0 32 32',
    fill: 'currentColor',
    paths: [
      'M23,26v-2h3v-5l-2-2h-4v2h-3v5l2,2h4ZM20,20h3v3h-3v-3Z',
      'M12,17h3v3h-3v-3Z',
      'M26,12h-3v-3h-3l-3,3v3h3v3h9v-3Z',
      'M15,26v-3h-6v-6h-3v6.188l2.812,2.812h6.188Z',
      'M12,6h3v3h-3v-3Z',
      'M9,12h3v3h3v-3h-3v-3h-3v3Z'
    ]
  },
  sim: {
    viewBox: '0 0 24 24',
    fill: 'currentColor',
    paths: ['M4,4h16v16H4V4zM6,6v12h12V6H6z']
  }
}

const viewBox = computed(() => icons[props.name]?.viewBox || '0 0 24 24')

const iconComponent = computed(() => {
  const icon = icons[props.name]

  return {
    render() {
      // If icon not found, render a default circle
      if (!icon) {
        return h('circle', { cx: '12', cy: '12', r: '6', fill: 'currentColor' })
      }

      return icon.paths.map(path => {
        const hasFill = icon.fill || props.fill !== 'none'
        return h('path', {
          d: path,
          fill: hasFill ? icon.fill || props.fill : 'none',
          stroke: !hasFill ? props.stroke : undefined
        })
      })
    }
  }
})
</script>
